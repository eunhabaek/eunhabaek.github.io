MLOps 개요
========

ML 개발주기
-------

1.  데이터 수집

2.  데이터 가공

3.  데이터 EDA

4.  데이터 가공

5.  모델 구축

6.  모델 학습 및 테스트

7.  모델 검증 및 조정

8.  모델 배포

9.  모델 모니터링

MLOps
-----

*   ML 개발 주기를 자동화해서 고성능 머신러닝 모델을 최대한 효율적 개발

*   머신러닝과 데브옵스 실천 사이 교차점

*   머신러닝에 데브옵스 적용 시 앱 유지 보수의 워크플로 효율성 향상으로 유지 보수 비용 감소되어 총 비용 절감

요구 단계
-----

*   devops→ 데이터 자동화 → 플랫폼 자동화 → mlops

*   devops는 필수적이고 기본적 단계

*   devops 후 데이터 자동화 구축 가능

*   데이터 자동화가 끝나야 플랫폼 자동화 구축(환경) 가능

DataOps와 데이터 엔지니어링
------------------

*   데이터의 흐름이 자동화되지 않은 조직은 안정적인 MLOps를 수행 할 수 없음

*   DataOps 수행 위한 상용 도구
    
    *   Airflow
        
        *   예약 관리 모니터링 도구
        
        *   에어비앤비가 개발, 아파치에 오픈소스로 개방
    
    *   AWS Glue
        
        *   데이터 소스의 스키마 관리하여 메타 데이터 저장
        
        *   serverless ETL 제공
        
        *   S3이용하는 경우에 많이 사용
    
    *   AWS 아테나, QuickSight 등의 제품이 있음
        
        *   데이터 처리 및 시각화 기능 제공
        
        *   데이터 따라 선택
        
        *   data lake 선택도 중요 - 중앙 집중식 저장소 많이 사용
        
        *   대부분 클라우드의 data lake 많이 사용
            
            *   높은 내구성과 가용성 및 무한한 확장성
            
            *   AWS의 S3이나 RDS 등 주로 이용

*   단계
    
    *   주기적 데이터 수집 → data lake(ETL)
        *   다양한 유즈케이스 대응 시스템 구축 설계
    
    *   스케쥴링 작업 실행
    
    *   스트리밍 데이터 처리
    
    *   서버리스 이용 데이터 처리
    
    *   빅데이터 관련 작업
    
    *   엔지니어링 작업 위한 데이터 및 모델 버전 관리

플랫폼 자동화
-------

*   높은 추상화 수준(직접 작업하지 않음)의 플랫폼인지 점검

*   데이터 자동화를 AWS S3에 구현했다면, ML workflow는 AWS의 sagemaker 연결하는 것이 일반적

*   sagemaker
    *   가상머신 생성, S3 읽기쓰기, 프로덕션 엔드포인트 프로비저닝 등 MLOps 흐름 관리

*   kubernetes 사용 조직은 kuberflow 적합
    
    *   실제 서비스되는 제품의 시나리오에서 이런 인프라를 자동화 없이 구축하는 일은 매우 어렵고 복잡한 작업
    
    *   필수적인 기능들이 이미 구현되어있는 고수준 플랫폼을 적절히 이용하는 것이 좋은 방법

MLOps feedback loop
-------------------

*   모델 학습과 재학습 → 배포 + 버저닝→ 추적용 로그와 아티팩트 → 모니터링

*   모델은 데이터가 변하거나 고객 특성 변할 수 있기 때문에 버전화하고 재사용 가능한 파이프라인을 갖춰야 함

*   머신러닝 모델도 지속적 배포 만들어야 함
    *   인프라 포함 모든 단계 자동화되면 코드형 인프라로 새 환경 배포 자동화

*   MLOps 파이프라인에 대한 추적 로그
    
    *   머신러닝 모델 뿐 아니라 파이프라인 전반에 걸친 다양한 사건을 추적
    
    *   머신러닝에서는 보안, 편향, 정확성 등 수많은 문제가 있음

*   모니터링
    
    *   머신러닝 시스템에는 데이터 끊임없이 추가
    
    *   새롭게 주어지는 데이터 분포가 기존 학습 모델에 불리하게 작용 할 수도 있음
    
    *   예전 데이터가 계속 문제없이 동작하지 않음
    
    *   최종 모델을 학습시킨 이후 다양한 변화를 모니터링 해서 모델 정확도로 인한 제품 문제 대응 필요

*   배포 타겟
    
    *   모델 → API, 컨테이너, 모바일, 자바스크립트, 머신러닝 플랫폼, 엣지 디바이스 등
    
    *   탄력적으로 확장 가능한 http endpoint에 모델을 배포하는 것이 일반적인 패턴
    
    *   HTTP endpoint가 모든것을 수행하기는 어려움
    
    *   구글 클라우드 플랫폼에서는
    
    MLOps 기본 지식
    -----------
    
    *   python, 수학, 통계
    
    *   bash, linux, command line 사용법
    
    *   클라우드 컴퓨팅 기반과 구성요소
    
    *   Cloud Native- devops ,컨테이너, microservice, ci/cd
    
    머신러닝 모델 활용 웹 서비스
    ----------------
    
    *   자동차 연비 추론 모델 활용
    
    *   프로젝트
        *   ml 모델 만들고 저장한 폴더 만들기
    
    *   모델 가지고 추론하는 웹(webapp dir)
        
        *   local python 파일로 웹 서비스에 요청 전송 및 응답 출력
        
        *   webapp 안에 mlp-model 폴더 넣기