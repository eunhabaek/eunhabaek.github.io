네트워크 이론
=======

Network
=======

LAN(Local Area Nertwork)
------------------------

*   근거리 통신망

*   구성 기술
    
    *   router
        
        *   네트워크 출입구가 되는 부분에 설치하는 기기
        
        *   일방향으로 들어온 데이터 목적지 확인 후 목적지에 가까운 네트워크에 데이터 전송
    
    *   hub
        *   배선을 분할하는 기기
    
    *   firewall(방화벽)
        
        *   들어오고(인바운드) 나가는(아웃바운드) 데이터 확인 후 통신 여부 조정
        
        *   프록시 서버 클라이언트가 자신을 통해 다른 네트워크에 간접 접속 가능케 하는 프로그램
    
    *   DMZ: 인터넷과 같이 외부 네트워크와 외부 네트워크 중간에 있는 네트워크
    
    *   subnet: 하나의 네트웍을 작게 분할 한 네트웤

IP Address
----------

*   인터넷 상에서 단말기 구별 위한 주소

*   IPv4/IPv6
    
    *   v4는 32bit, 8진수로 나누어 10진수로 표시 0.0.0.0-255.255.255.255
    
    *   v6는 4bit 씩 8개의 영역으로 표기

*   Private/Public
    
    *   private IP는 10, 17.16, 192.168 등으로 시작
    
    *   Public IP는 모든 망에서 서로를 구분할 수 있는 유일 IP

*   Static/Dynamic
    *   변경 여부

*   AWS Elastic IP
    
    *   서비스 제공하는 경우 static, public IP를 가져야 함
    
    *   서비스 별로 static ip를 탄력적 제공

Domain name과 DNS
----------------

*   ip는 숫자로 기억하기 어려우므로 이름 부여한 것이 domain

*   ip와 domain 매핑 서비스가 DNS(Domain name service)

*   AWS의 Router 53 서비스가 DNS 역할 수행

VPN(Virtual private network)
----------------------------

*   외부에 드러내지 않는 사설 통신망

*   최근 대기업 대부분 VPN

*   업무 때문이 아니라 차단 사이트 접근 목적

*   원격에서는 필수

*   AWS의 VPC 서비스
    
    *   하나의 VPC로 묶으면 하나의 네트웤로 묶인 효과
    
    *   데이터베이스서비스 생성하고 EC2와 같은 OS 서비스 선택한 상황에서 접속 위해서는 하나의 VPC로 묶거나 DB를 public에서 접속 가능케 해야 함
    
    *   VPC 기능
        
        *   CIDR 블록은 서브넷을 의미하며 네트워크를 나눈 범위로 VPC를 생성할 때 네트워크 범위를 CIDR로 설정하고 더 작은 서브넷으로 나누어 사용
        
        *   AWS는 인바인드 막혀있으므로 CIDR을 이용
            
            *   모든 아이피 허용: 0.0.0.0/0 이용
            
            *   맨 앞 첫 비트 동일: 0.0.0.0/1
    
    *   Subnet Mask
        
        *   동일한 네트워크 크기 계산 위한 값
        
        *   IPv4/비트수 형태로 작성
        
        *   비트수 같으면 동일 네트웍 간주
            
            *   ex) 192.168.0.0/24 앞의 24비트 같으면 동일 네트웍 간주하여 라우터 없이 내부통신 가능
            
            *   컴퓨터 설정 시 255.255.255.0 이용
    
    *   가용 영역
        *   서브넷이 구축된 물리적 장소
    
    *   인터넷 게이트웨이 : 인터넷 접속 위한 출입구
    
    *   보안 그룹: AWS 제공 가상 방화벽으로 이늣턴스 단위 설정하고 유입되는 데이터는 기본적으로 거부
    
    *   유입되는 데이터를 받고자 하면 보안 그룹에 CIDR 형태로 블록 추가해서 허용 하는 인바운드 규칙 만들어야 함

Peering
-------

*   VPN과 VPC 끼리 연결하는데 사용

*   처음에는 public access 주로 이용

AWS VPC
-------

*   기본 VPC 제공 해 줌

*   네트워크 범위는 172.31.0.0/16 제공
    *   172.31로 시작하면 모두 동일한 네트워크로 간주

IP Masquerade
-------------

*   LAN 내부의 PC에는 전부 사설 IP 주소 할당하고 외부 나갈 때는 공인 IP로 변환하여 사용

*   NAT라고도 함(network address translation)

known Port
----------

*   메일: 25, 110, 143

*   웹: 80, 443

*   SSH: 22

*   FTP: 20, 21

*   DNS: 53

*   원격 Desktop: 3389

*   DB
    *   SQL: 1433, Oracle: 1521, MySQL: 3306, Postgre: 5432, MongoDB: 27017, Redis: 6379

*   기타: 8080

*   spark: 7077

End Point
---------

*   VPC 내부에서 외부 접속 위한 연결점