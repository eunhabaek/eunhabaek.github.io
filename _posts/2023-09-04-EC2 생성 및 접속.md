EC2 생성 및 접속
===========

EC2
---

*   인스턴스 만들기
    
    *   AMI: 운영체제
    
    *   인스턴스 유형: 하드웨어 종류
    
    *   키페어
        
        *   외부에서 인스턴스 접근 가능한 인증 파일 생성
        
        *   한번 다운하면 다시 다운 불가
    
    *   네트워크 설정
        *   SSH 설정은 필수, HTTP는 선택
    
    *   스토리지 설정

*   Mac 접속
    *   sudo ssh -i 키페어파일경로 ubuntu@IP주소

*   window 접속
    *   puttygen으로 pem 파일 ppk 변환

EBS
---

*   영구적 블록 스토리지 볼륨

*   기능
    
    *   탄력적
    
    *   스냅샷
    
    *   암호화

ELB(load balancer)
------------------

*   elb 발생 에러
    
    *   접속시간 초과 오류
    
    *   로드 밸런서에서 접속 제한시간늘리거나 응답 시간을 줄여야 함

Snapshot
--------

*   디스크 상태 보존한 파일이나 디스크 집합

Auto Scailing
-------------

*   서비스 상태에 따라 자동 scail up/down/out

*   auto-scailing 그룹 생성하고 최소 대수와 최대 대수 설정 가능

*   설정 옵션
    
    *   일정 맞춰 스케일링
    
    *   임계값 설정
    

EC2 인스턴스 시작
-----------

1.  인스턴스 이름
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled.png)
    

2\. OS 선택

[![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%201.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%201.png)

3.  인스턴스 유형 선택
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%202.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%202.png)
    
    *   도커, 쿠버네티스 등 컨테이너 돌리거나 데이터 베이스 서버 역할 원할 시 더 좋은 유형 선택

4.  키 페어 생성
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%203.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%203.png)
    

5.  네트워크 설정
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%204.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%204.png)
    
    *   인스턴스 접근 제한 위한 네트워크 설정 가능
    
    *   HTTPS, SSH 등의 트래픽 허용 여부 설정
    
    *   CIDR 선택 시 모든 아이피 허용 위해 0.0.0.0/0 설정

6.  스토리지 구성
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%205.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%205.png)
    

7.  인스턴스 생성 완료
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%206.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%206.png)
    

8.  인스턴스 요약 확인
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%207.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%207.png)
    
    *   외부에서 접근 가능한 IP 주소
        
        *   [ec2-35-76-114-179.ap-northeast-1.compute.amazonaws.com](http://ec2-35-76-114-179.ap-northeast-1.compute.amazonaws.com/)
        
        *   35.76.114.179

*   인스턴스의 인바운드, 아웃바운드 규칙 설정
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%208.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%208.png)
    
    *   인바운드: 외부에서 들어오는 규칙 설정
    
    *   아웃바운드: 외부로 나가는 규칙 설정

EC2 인스턴스에 SSH 연결
----------------

*   우선 22번 포트가 인바운드 규칙에 적용되어 있는지를 확인

*   인스턴스 연결 메뉴를 눌러서 접속 시 사용 계정 확인

*   End Point(IPv4) 확인

*   접속 방법
    
    *   ssh -i pem파일경로 계정명@IPv4 도메인 or IP
    
    *   putty

### 명령어 이용 Mac OS 연결

[![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%209.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%209.png)

*   SSH 접속하기 위해서는 계정이 있어야 함
    *   초기 계정명은 ubuntu로 설정되어 있음

### Putty 이용 Windows 접속

*   key 파일 등록
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2010.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2010.png)
    

*   IP와 포트번호 입력 후 등록
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2011.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2011.png)
    

*   계정명 ubuntu로 접속 가능
    
    [![](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2012.png)](EC2%20%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%20%E1%84%86%E1%85%B5%E1%86%BE%20%E1%84%8C%E1%85%A5%E1%86%B8%E1%84%89%E1%85%A9%E1%86%A8%2007565a6bfee246e3a9cbbca083389cf9/Untitled%2012.png)